@model GULLEM_NEW_MVC.Entities.ClientInfo
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=\, initial-scale=1.0">
    <title>UserLoans</title>
    <link rel="stylesheet" href="https://cdn.datatables.net/2.0.8/css/dataTables.dataTables.css" />
</head>

<body>
    <div class="Loan_container">
        <h1>@Model.FirstName's Loans</h1>

        <div>
            <a class="btn btn-primary" href="@Url.Action("Index", "Client")">Mainpage</a>
            <a class="btn btn-success" href="@Url.Action("AddLoan", "Loan", new { clientId = Model.Id })">Add Loan</a>
        </div>

        <div class="loan-details">
            @if (Model.Loans != null && Model.Loans.Any())
            {
                <table class="table" id="loan_details">
                    <thead>
                        <tr>
                            <th>Id</th>
                            <th>Borrower</th>
                            <th>Amount</th>
                            <th>Term</th>
                            <th>Payment</th>
                            <th>Amount Paid</th>
                            <th>Interest Amount</th>
                            <th>Total</th>
                            <th>Interest</th>
                            <th>Deduction</th>
                            <th>Receivable Amount</th>
                            <th>Status</th>
                            <th>Due Date</th>
                            <th>Date Created</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var loan in Model.Loans)
                        {
                            <tr>
                                <td>@loan.Id</td>
                                <td>@loan.Borrower</td>
                                <td>@loan.Amount</td>
                                <td>@loan.Term</td>
                                <td>@loan.Payment</td>
                                <td>@loan.AmountPaid</td>
                                <td>@loan.InterestAmount</td>
                                <td>@loan.Total</td>
                                <td>@loan.Interest</td>
                                <td>@loan.Deduction</td>
                                <td>@loan.ReceivableAmount</td>
                                <td>@loan.Status</td>
                                <td>@loan.DueDate.ToShortDateString()</td>
                                <td>@loan.DateCreated.ToShortDateString()</td>
                            </tr>
                        }
                    </tbody>
                </table>
            }
            else
            {
                <div class="noloans">
                    <img src="~/images/noloansfound.png" alt="No loans found">
                </div>
            }
        </div>
    </div>

    <script src="//cdn.datatables.net/2.0.8/js/dataTables.min.js"></script>
    <script>
        $(document).ready(function () {
            $('#loan_details').DataTable();
        });
    </script>
</body>

</html>
