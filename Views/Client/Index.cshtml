@model IEnumerable<GULLEM_NEW_MVC.ViewModels.ClientInfoViewModel>

@{
    ViewData["Title"] = "Index";
}

<div class="clientInfo-in">
    <h2 id="adminGreetings"></h2>

    <p>
        <a class="btn btn-success" href="/client/addclient">ADD CLIENT</a>
    </p>
    <div class="table-container">
        <table class="table">
            <thead>
                <tr>
                    <th>
                        User Type
                    </th>
                    <th>
                        First Name
                    </th>
                    <th>
                        Middle Name
                    </th>
                    <th>
                        Last Name
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Address)
                    </th>
                    <th>
                        Zip Code
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Birthday)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Age)
                    </th>
                    <th>
                        Father's Name
                    </th>
                    <th>
                        Mother's Name
                    </th>
                    <th>
                        Status
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Religion)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Occupation)
                    </th>
                    <th>
                        Actions
                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.UserTypeName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.FirstName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.MiddleName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.LastName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Address)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.ZipCode)
                        </td>
                        <td>
                            @item.Birthday?.ToString("MM/dd/yyyy")
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Age)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.NameOfFather)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.NameOfMother)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.CivilStatus)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Religion)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Occupation)
                        </td>
                        <td>
                            <a class="btn btn-warning Btn" asp-action="UpdateClient" asp-route-id="@item.Id">Update</a>
                            <a class="btn btn-danger Btn" asp-action="Delete" asp-route-id="@item.Id">Delete</a>
                            <a class="btn btn-success Btn" asp-controller="Loan" asp-action="UserLoans" asp-route-id="@item.Id">Activities</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

<script>
    var greetings = document.getElementById("adminGreetings");
    var currentHour = new Date().getHours();

    var greeting;
    if (currentHour >= 0 && currentHour < 12) {
        greeting = "Good Day Admin!";
    } else if (currentHour >= 12 && currentHour < 18) {
        greeting = "Good Afternoon Admin!";
    } else {
        greeting = "Good Evening Admin!";
    }

    greetings.style.color = "gray";

    document.getElementById("adminGreetings").innerHTML = greeting;
</script>